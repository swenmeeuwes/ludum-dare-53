[gd_scene load_steps=11 format=3 uid="uid://bakylumy0cn6j"]

[ext_resource type="PackedScene" uid="uid://cm8dok4e2v35j" path="res://actors/DraggableShapeManager/DraggableShapeManager.tscn" id="1_bj7er"]
[ext_resource type="PackedScene" uid="uid://dwwce23hth1o5" path="res://actors/Ship/Ship.tscn" id="1_eli20"]
[ext_resource type="PackedScene" uid="uid://byjvcq8h4dsbc" path="res://actors/DragManager/DragManager.tscn" id="1_fna66"]
[ext_resource type="Script" path="res://scripts/Main.gd" id="1_hjccw"]
[ext_resource type="Texture2D" uid="uid://c2nxrpq48fe6w" path="res://assets/sea .png" id="5_ovyve"]
[ext_resource type="FontFile" uid="uid://jbktbvd45a2g" path="res://fonts/fantaisieartistique/FantaisieArtistique.ttf" id="7_sigua"]
[ext_resource type="PackedScene" uid="uid://ddkawqn7nmpm3" path="res://actors/DraggableSpawner/DraggableSpawner.tscn" id="10_uxfpb"]

[sub_resource type="LabelSettings" id="LabelSettings_gfggo"]
font = ExtResource("7_sigua")
font_size = 72

[sub_resource type="LabelSettings" id="LabelSettings_3gj8p"]
font = ExtResource("7_sigua")
font_size = 128

[sub_resource type="LabelSettings" id="LabelSettings_w4psh"]
font = ExtResource("7_sigua")
font_size = 96

[node name="Main" type="Node" node_paths=PackedStringArray("time_left_label", "press_to_start_label", "score_label", "final_score_label", "ship", "round_timer")]
script = ExtResource("1_hjccw")
time_in_seconds_per_round = 60
time_left_label = NodePath("Foreground UI/TimeLeftLabel")
press_to_start_label = NodePath("Foreground UI/PressToStartLabel")
score_label = NodePath("Foreground UI/ScoreLabel")
final_score_label = NodePath("Foreground UI/FinalScoreLabel")
ship = NodePath("Game/Ship")
round_timer = NodePath("RoundTimer")

[node name="Background" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="ColorRect" type="ColorRect" parent="Background"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0.121569, 0.301961, 0.282353, 1)

[node name="Game" type="Node2D" parent="."]

[node name="Ship" parent="Game" instance=ExtResource("1_eli20")]

[node name="DraggableShapeManager" parent="Game" instance=ExtResource("1_bj7er")]

[node name="DragManager" parent="Game" instance=ExtResource("1_fna66")]

[node name="DraggableSpawner" parent="Game" node_paths=PackedStringArray("drag_manager") instance=ExtResource("10_uxfpb")]
position = Vector2(192, 552)
drag_manager = NodePath("../DragManager")

[node name="DraggableSpawner2" parent="Game" node_paths=PackedStringArray("drag_manager") instance=ExtResource("10_uxfpb")]
position = Vector2(512, 565)
drag_manager = NodePath("../DragManager")

[node name="DraggableSpawner3" parent="Game" node_paths=PackedStringArray("drag_manager") instance=ExtResource("10_uxfpb")]
position = Vector2(186, 854)
drag_manager = NodePath("../DragManager")

[node name="DraggableSpawner4" parent="Game" node_paths=PackedStringArray("drag_manager") instance=ExtResource("10_uxfpb")]
position = Vector2(529, 851)
drag_manager = NodePath("../DragManager")

[node name="Sea" type="Sprite2D" parent="Game"]
position = Vector2(960, 600)
texture = ExtResource("5_ovyve")

[node name="Foreground UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TimeLeftLabel" type="Label" parent="Foreground UI"]
layout_mode = 1
offset_left = 32.0
offset_top = 32.0
offset_right = 581.0
offset_bottom = 109.0
text = "TIME LEFT: 00:00"
label_settings = SubResource("LabelSettings_gfggo")

[node name="ScoreLabel" type="Label" parent="Foreground UI"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -581.0
offset_top = 32.0
offset_right = -32.0
offset_bottom = 109.0
grow_horizontal = 0
text = "SCORE: 00000"
label_settings = SubResource("LabelSettings_gfggo")
horizontal_alignment = 2

[node name="FinalScoreLabel" type="Label" parent="Foreground UI"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -573.5
offset_top = -209.0
offset_right = 573.5
offset_bottom = -75.0
grow_horizontal = 2
grow_vertical = 2
text = "FINAL SCORE: 00000"
label_settings = SubResource("LabelSettings_3gj8p")
horizontal_alignment = 2

[node name="PressToStartLabel" type="Label" parent="Foreground UI"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -650.5
offset_top = -50.5
offset_right = 650.5
offset_bottom = 50.5
grow_horizontal = 2
grow_vertical = 2
text = "- PRESS ANY KEY TO START -"
label_settings = SubResource("LabelSettings_w4psh")

[node name="RoundTimer" type="Timer" parent="."]

[connection signal="timeout" from="RoundTimer" to="." method="_on_round_timer_timeout"]
